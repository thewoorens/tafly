(function(){"use strict";var e={7005:function(e,t,a){var s=a(5130),r=a(6768);function o(e,t,a,s,o,l){const n=(0,r.g2)("router-view");return(0,r.uX)(),(0,r.Wv)(n)}var l={name:"App"},n=a(1241);const i=(0,n.A)(l,[["render",o]]);var c=i,d=a(5931),u=JSON.parse('{"sidebar":{"title":"Tafly QR Code Menu Systems","dashboard":"Dashboard","search":"Search","statistics":"Statistics","docs":"Docs","products":"Products","settings":"Settings","messages":"Messages","account":"Account","hide":"Hide","show":"Show","home":"Home","help":"Help"},"settings":{"save":"Save","title":"Settings","language":"Language","theme":"Theme"},"category":"Category","surveys":"Surveys","all time":"All Time","previewMenu":"Preview Menu","devicesShowingQRMenu":"Devices Showing QR Menu","addCategory":"Add Category","createCategory":"Create Category","categoryAdi":"Category Name","enterCategoryname":"Enter Category Name","categoryDescription":"Category Description","addaShortDescriptionaboutYourcaTegory":"Add a Short Description about Your Category","categoryImage":"Category Image","saveCategory":"Save Category","ManageYourgeneralsettings":"Manage your general settings. The app will restart after saving the settings.","signOut":"Sign Out","devicesWithQRMenu":"Devices with QR Menu","allTime":"All Times","addNewCategory":"Add a new category"}'),g=JSON.parse('{"sidebar":{"title":"Tafly QR Kod Menü Sistemleri","dashboard":"Gösterge Paneli","search":"Ara","statistics":"İstatistikler","docs":"Dokümanlar","products":"Ürünler","settings":"Ayarlar","messages":"Mesajlar","account":"Hesap","hide":"Gizle","show":"Göster","home":"Ana Sayfa","help":"Yardım"},"settings":{"save":"Kaydet","title":"Ayarlar","language":"Dil","theme":"Tema"},"category":"Kategori","surveys":"Anketler","devicesShowingQRMenu":"QR Menü Gösteren Cihazlar","addCategory":"Kategori Ekle","createCategory":"Kategori Oluştur","categoryAdi":"Kategori Adı","enterCategoryname":"Kategori Adını Girin","categoryDescription":"Kategori Açıklaması","addaShortDescriptionaboutYourcaTegory":"Kategoriniz hakkında kısa bir açıklama ekleyin","categoryImage":"Kategori Resmi","saveCategory":"Kategoriyi Kaydet","ManageYourgeneralsettings":"Genel ayarlarınızı yönetin. Ayarlar kaydedildikten sonra uygulama yeniden başlatılacaktır.","signOut":"Çıkış Yap","devicesWithQRMenu":"QR Menünün Gösterildiği Cihazlar","allTime":"Tüm Zamanlar","previewMenu":"Menüyü Ön İzle","addNewCategory":"Yeni bir menü oluşturun"}'),m=JSON.parse('{"sidebar":{"title":"Tafly QR-Code-Menüs","dashboard":"Armaturenbrett","search":"Suche","statistics":"Statistiken","docs":"Dokumente","products":"Produkte","settings":"Einstellungen","messages":"Nachrichten","account":"Konto","hide":"Verstecken","show":"Anzeigen","home":"Startseite","help":"Hilfe"},"settings":{"save":"Speichern","title":"Einstellungen","language":"Sprache","theme":"Thema"},"category":"Kategorie","surveys":"Umfragen","devicesShowingQRMenu":"Geräte, die das QR-Menü anzeigen","addCategory":"Kategorie hinzufügen","createCategory":"Kategorie erstellen","categoryAdi":"Kategoriename","enterCategoryname":"Kategoriename eingeben","categoryDescription":"Kategoriebeschreibung","addaShortDescriptionaboutYourcaTegory":"Fügen Sie eine kurze Beschreibung zu Ihrer Kategorie hinzu","categoryImage":"Kategoriebild","saveCategory":"Kategorie speichern","ManageYourgeneralsettings":"Verwalten Sie Ihre allgemeinen Einstellungen. Die Anwendung wird neu gestartet, nachdem die Einstellungen gespeichert wurden.","signOut":"Ausloggen","devicesWithQRMenu":"Geräte, auf denen das QR-Menü angezeigt wird","allTime":"Alle Zeiten","previewMenu":"Menü Vorschau","addNewCategory":"Eine neue Kategorie hinzufügen"}');const p={en:u,tr:g,de:m},h=(0,d.hU)({legacy:!1,locale:localStorage.getItem("language")||"en",fallbackLocale:"en",messages:p});var f=h,b=a(1387);function k(e,t,a,s,o,l){return(0,r.uX)(),(0,r.CE)("h1",null,"selamalr")}var v={name:"QrMenuTabs",data(){return{}}};const y=(0,n.A)(v,[["render",k]]);var w=y,x=a(4232);const L={class:"container mx-auto p-6"},C={class:"text-3xl font-bold text-gray-900 text-left mb-6"},S={class:"border-b border-gray-300 overflow-x-auto pb-2"},_={class:"flex justify-left pt-2 ml-1 gap-4 text-base font-medium text-center"},M=["onClick"],I={class:"mt-8 rounded-xl w-full text-gray-900"},E={key:0},T={key:1},A={key:2},O={key:3},B={key:4},z={key:5},j={class:"flex flex-wrap gap-6 justify-center mt-8"},K={class:"bg-white p-4 rounded-lg shadow-md w-full sm:w-1/2 md:w-1/3"},$={class:"h-64"},X={ref:"scanChart",class:"chart-canvas"},R={class:"bg-white p-4 rounded-lg shadow-md w-full sm:w-1/2 md:w-1/3"},V={class:"h-64"},Q={ref:"deviceChart",class:"chart-canvas"},D={class:"bg-white p-4 rounded-lg shadow-md w-full sm:w-1/2 md:w-1/3"},F={class:"h-64"},H={ref:"methodChart",class:"chart-canvas"};function N(e,t,a,s,o,l){const n=(0,r.g2)("AllTimesTable");return(0,r.uX)(),(0,r.CE)(r.FK,null,[(0,r.Lk)("div",L,[(0,r.Lk)("h1",C,(0,x.v_)(e.$t("devicesWithQRMenu")),1),(0,r.Lk)("div",S,[(0,r.Lk)("ul",_,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(o.tabs,(e=>((0,r.uX)(),(0,r.CE)("li",{key:e},[(0,r.Lk)("button",{onClick:t=>l.changeTab(e),class:(0,x.C4)(["px-6 py-3 transition-all duration-200 ease-out rounded-xl",o.currentTab===e?"text-white bg-blue-600 scale-105 shadow-md":"text-gray-800 bg-gray-200 hover:bg-gray-400 hover:scale-105"])},(0,x.v_)(e),11,M)])))),128))])]),(0,r.Lk)("div",I,["Gerçek Zamanlı"===o.currentTab?((0,r.uX)(),(0,r.CE)("p",E,"Gerçek zamanlı olarak QR kodu tarayan cihazlar burada listelenecek.")):"Tüm Zamanlar"===o.currentTab?((0,r.uX)(),(0,r.CE)("div",T,[(0,r.bF)(n)])):"Sipariş Verenler"===o.currentTab?((0,r.uX)(),(0,r.CE)("p",A,"Sipariş veren müşterilerin listesi burada olacak.")):"İşaretlenenler"===o.currentTab?((0,r.uX)(),(0,r.CE)("p",O,"İşaretlenen kullanıcıların detayları burada.")):"Ankete Katılanlar"===o.currentTab?((0,r.uX)(),(0,r.CE)("p",B,"Anketi dolduran kullanıcılar burada.")):"Engellenenler"===o.currentTab?((0,r.uX)(),(0,r.CE)("p",z,"Engellenen cihazlar veya kullanıcılar burada listelenecek.")):(0,r.Q3)("",!0)])]),(0,r.Lk)("div",j,[(0,r.Lk)("div",K,[t[0]||(t[0]=(0,r.Lk)("div",{class:"flex items-center gap-3 mb-4"},[(0,r.Lk)("i",{class:"fas fa-chart-bar text-blue-500 text-xl"}),(0,r.Lk)("i",{class:"material-icons text-3xl text-blue-500"},"qr_code"),(0,r.Lk)("h2",{class:"text-xl font-semibold"},"Günlük QR Tarama Sayıları")],-1)),(0,r.Lk)("div",$,[(0,r.Lk)("canvas",X,null,512)])]),(0,r.Lk)("div",R,[t[1]||(t[1]=(0,r.Lk)("div",{class:"flex items-center gap-3 mb-4"},[(0,r.Lk)("i",{class:"fas fa-mobile-alt text-green-500 text-xl"}),(0,r.Lk)("i",{class:"material-icons text-3xl text-red-500"},"devices"),(0,r.Lk)("h2",{class:"text-xl font-semibold"},"QR Kodu Taramak İçin Kullanılan Cihazlar")],-1)),(0,r.Lk)("div",V,[(0,r.Lk)("canvas",Q,null,512)])]),(0,r.Lk)("div",D,[t[2]||(t[2]=(0,r.Lk)("div",{class:"flex items-center gap-3 mb-4"},[(0,r.Lk)("i",{class:"fas fa-laptop-code text-purple-500 text-xl"}),(0,r.Lk)("h2",{class:"text-xl font-semibold"},"En Yoğun Masa")],-1)),(0,r.Lk)("div",F,[(0,r.Lk)("canvas",H,null,512)])])])],64)}var J=a(6912);const P={class:"overflow-x-auto p-6"},U={class:"w-full text-md text-left text-gray-600 shadow-md bg-white rounded-lg overflow-hidden"},Y={class:"select-all px-6 py-4 flex items-center"},q={class:"select-all px-6 py-4"},W={class:"select-all px-6 py-4"},G={class:"select-all px-6 py-4"},Z={class:"select-all px-6 py-4"};function ee(e,t,a,s,o,l){return(0,r.uX)(),(0,r.CE)("div",P,[(0,r.Lk)("table",U,[t[1]||(t[1]=(0,r.Lk)("thead",{class:"text-xs text-gray-700 uppercase bg-gray-100"},[(0,r.Lk)("tr",null,[(0,r.Lk)("th",{scope:"col",class:"px-6 py-3"},"Cihaz"),(0,r.Lk)("th",{scope:"col",class:"px-6 py-3"},"İşletim Sistemi"),(0,r.Lk)("th",{scope:"col",class:"px-6 py-3"},"Ekran Boyutu"),(0,r.Lk)("th",{scope:"col",class:"px-6 py-3"},"Tarih"),(0,r.Lk)("th",{scope:"col",class:"px-6 py-3"},"Durum")])],-1)),(0,r.Lk)("tbody",null,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(o.customers,((e,a)=>((0,r.uX)(),(0,r.CE)("tr",{key:a,class:"border-b hover:bg-gray-50 transition-all"},[(0,r.Lk)("td",Y,[t[0]||(t[0]=(0,r.Lk)("span",{class:"select-none material-icons text-green-500 mr-2"},"devices",-1)),(0,r.eW)(" "+(0,x.v_)(e.device||"Cihaz belirlenemedi"),1)]),(0,r.Lk)("td",q,(0,x.v_)(e.os||"İşletim Sistemi Belirlenemedi"),1),(0,r.Lk)("td",W,(0,x.v_)(e.screenSize||"Ekran Boyutu Belirlenemedi"),1),(0,r.Lk)("td",G,(0,x.v_)(e.date||"Tarih Belirlenemedi"),1),(0,r.Lk)("td",Z,[(0,r.Lk)("span",{class:(0,x.C4)([l.statusClass(e.status),"px-2 py-1 rounded-lg text-md font-semibold"])},(0,x.v_)(e.status||"Durum Belirlenemedi"),3)])])))),128))])])])}var te={name:"AllTimesTable",data(){return{customers:[{device:"iPhone 13",os:"iOS 16",screenSize:"6.1 inç",date:"2024-02-10",status:"Aktif"},{device:"Samsung Galaxy S21",os:"Android 12",screenSize:"6.2 inç",date:"2024-02-08",status:"Pasif"},{device:"MacBook Pro",os:"macOS Ventura",screenSize:"14 inç",date:"2024-02-05",status:"Aktif"}]}},methods:{statusClass(e){return"Aktif"===e?"bg-green-200 text-green-700":"bg-red-200 text-red-700"}}};const ae=(0,n.A)(te,[["render",ee],["__scopeId","data-v-f9a0b3a4"]]);var se=ae;J.t1.register(...J.$L);var re={name:"StatView",components:{AllTimesTable:se},data(){return{currentTab:"Tüm Zamanlar",tabs:[this.$t("allTime"),"Sipariş Verenler","İşaretlenenler","Ankete Katılanlar","Engellenenler"],scanChart:null,deviceChart:null,methodChart:null}},mounted(){this.renderScanChart(),this.renderDeviceChart(),this.renderMethodChart()},methods:{changeTab(e){this.currentTab=e,console.log("Aktif Sekme: "+this.currentTab)},renderScanChart(){const e=this.$refs.scanChart.getContext("2d");this.scanChart&&this.scanChart.destroy(),this.scanChart=new J.t1(e,{type:"bar",data:{labels:["Pazartesi","Salı","Çarşamba","Perşembe","Cuma","Cumartesi","Pazar"],datasets:[{label:"Tarama Sayısı",backgroundColor:"#3b82f6",data:[50,75,60,90,110,800,100]}]},options:{responsive:!0,maintainAspectRatio:!0}})},renderDeviceChart(){const e=this.$refs.deviceChart.getContext("2d");this.deviceChart&&this.deviceChart.destroy(),this.deviceChart=new J.t1(e,{type:"pie",data:{labels:["Mobil","Tablet","Bilgisayar"],datasets:[{backgroundColor:["#f87171","#60a5fa","#34d399"],data:[70,20,10]}]},options:{responsive:!0,maintainAspectRatio:!0}})},renderMethodChart(){const e=this.$refs.methodChart.getContext("2d");this.methodChart&&this.methodChart.destroy(),this.methodChart=new J.t1(e,{type:"line",data:{labels:["Pazartesi","Salı","Çarşamba","Perşembe","Cuma","Cumartesi","Pazar"],datasets:[{data:[{x:10,y:20},{x:15,y:null},{x:20,y:10}]}]},options:{responsive:!0,plugins:{title:{display:!0,text:"Suggested Min and Max Settings"}},scales:{y:{suggestedMin:30,suggestedMax:50}}}})}}};const oe=(0,n.A)(re,[["render",N]]);var le=oe;const ne={class:"p-6 bg-red-500"};function ie(e,t,a,s,o,l){return(0,r.uX)(),(0,r.CE)("div",ne,t[0]||(t[0]=[(0,r.Lk)("h1",{class:"text-2xl font-bold"},"Ürünler",-1),(0,r.Lk)("p",{class:"mt-4"},"Bu, Ürünler içeriğidir.",-1)]))}var ce={name:"ProductsView"};const de=(0,n.A)(ce,[["render",ie]]);var ue=de;const ge={class:"flex items-center justify-center min-h-screen bg-gray-100"},me={class:"bg-white p-8 rounded-lg shadow-lg w-96"},pe={class:"mb-4"},he={class:"mb-6"},fe={class:"mt-4 text-center"},be={key:0,class:"mt-4 text-center text-red-500"};function ke(e,t,a,o,l,n){const i=(0,r.g2)("router-link");return(0,r.uX)(),(0,r.CE)("div",ge,[(0,r.Lk)("div",me,[t[7]||(t[7]=(0,r.Lk)("h2",{class:"text-2xl font-bold mb-6 text-center"},"Giriş Yap",-1)),(0,r.Lk)("form",{onSubmit:t[2]||(t[2]=(0,s.D$)(((...e)=>n.login&&n.login(...e)),["prevent"]))},[(0,r.Lk)("div",pe,[t[3]||(t[3]=(0,r.Lk)("label",{class:"block text-sm font-medium mb-2",for:"email"},"E-posta",-1)),(0,r.bo)((0,r.Lk)("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>l.email=e),type:"email",id:"email",class:"w-full p-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:""},null,512),[[s.Jo,l.email]])]),(0,r.Lk)("div",he,[t[4]||(t[4]=(0,r.Lk)("label",{class:"block text-sm font-medium mb-2",for:"password"},"Şifre",-1)),(0,r.bo)((0,r.Lk)("input",{"onUpdate:modelValue":t[1]||(t[1]=e=>l.password=e),type:"password",id:"password",class:"w-full p-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:""},null,512),[[s.Jo,l.password]])]),t[5]||(t[5]=(0,r.Lk)("button",{id:"submitButton",type:"submit",class:"w-full bg-blue-500 text-white p-2 rounded-lg hover:bg-blue-600 transition-all"}," Giriş Yap ",-1))],32),(0,r.Lk)("div",fe,[(0,r.bF)(i,{to:"/register",class:"text-blue-500 hover:underline"},{default:(0,r.k6)((()=>t[6]||(t[6]=[(0,r.eW)("Hesabınız yok mu? Kayıt Olun")]))),_:1})]),l.error?((0,r.uX)(),(0,r.CE)("div",be,(0,x.v_)(l.error),1)):(0,r.Q3)("",!0)])])}var ve={name:"LoginView",data(){return{email:"",password:"",error:"",isLoading:!1}},async created(){localStorage.getItem("auth-token")&&await this.checkAuth()},methods:{async checkAuth(){try{const e=await this.fetchProtectedData();e.ok&&(window.location.href="/cp")}catch(e){console.error("❌ Error:",e)}},async fetchProtectedData(){return await fetch("http://localhost:3000/api/protected",{credentials:"include",headers:{Authorization:`Bearer ${localStorage.getItem("auth-token")}`,"Content-Type":"application/json"}})},async login(){console.log("Login");const e=document.getElementById("submitButton");e.disabled=!0,e.style.backgroundColor="gray",this.error="",this.isLoading=!0;try{const e=await fetch("http://localhost:3000/api/post/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:this.email,password:this.password}),credentials:"include"}),t=await e.json();if(t.error)return void this.handleLoginError(t.error);localStorage.setItem("auth-token",t.token),localStorage.setItem("userInfo",JSON.stringify(t.user)),await this.checkAuth()}catch(t){this.handleLoginError("Bir hata oluştu. Lütfen tekrar deneyin."),console.error("Login hatası => ",t)}finally{e.disabled=!1,e.style.backgroundColor="blue",this.isLoading=!1}},handleLoginError(e){switch(e){case"Invalid credentials":this.error="Geçersiz e-posta veya şifre.";break;case"Failed to fetch user data":this.error="Kullanıcı bilgileri alınamadı.";break;default:this.error="Beklenmedik bir hata oluştu.";break}console.log("Hata => ",e)}}};const ye=(0,n.A)(ve,[["render",ke]]);var we=ye;const xe={class:"flex items-center justify-center min-h-screen bg-gray-100"},Le={class:"bg-white p-8 rounded-lg shadow-lg w-96"},Ce={class:"mb-4"},Se={key:0,class:"text-red-500 text-xs"},_e={class:"mb-4"},Me={key:0,class:"text-red-500 text-xs"},Ie={class:"mb-4"},Ee={key:0,class:"text-red-500 text-xs"},Te={class:"mb-6"},Ae={key:0,class:"text-red-500 text-xs"},Oe={class:"mb-6"},Be={key:0,class:"text-red-500 text-xs"},ze={key:0,class:"mt-4 text-center text-red-500"},je={class:"mt-4 text-center"};function Ke(e,t,a,o,l,n){const i=(0,r.g2)("router-link");return(0,r.uX)(),(0,r.CE)("div",xe,[(0,r.Lk)("div",Le,[t[13]||(t[13]=(0,r.Lk)("h2",{class:"text-2xl font-bold mb-6 text-center"},"Kayıt Ol",-1)),(0,r.Lk)("form",{onSubmit:t[5]||(t[5]=(0,s.D$)(((...e)=>n.register&&n.register(...e)),["prevent"]))},[(0,r.Lk)("div",Ce,[t[6]||(t[6]=(0,r.Lk)("label",{class:"block text-sm font-medium mb-2",for:"owner_first_name"},"İşletme Sahibi Adı",-1)),(0,r.bo)((0,r.Lk)("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>l.owner_first_name=e),type:"text",id:"owner_first_name",class:"w-full p-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:""},null,512),[[s.Jo,l.owner_first_name]]),l.errors.owner_first_name?((0,r.uX)(),(0,r.CE)("p",Se,(0,x.v_)(l.errors.owner_first_name),1)):(0,r.Q3)("",!0)]),(0,r.Lk)("div",_e,[t[7]||(t[7]=(0,r.Lk)("label",{class:"block text-sm font-medium mb-2",for:"owner_last_name"},"İşletme Sahibi Soy Adı",-1)),(0,r.bo)((0,r.Lk)("input",{"onUpdate:modelValue":t[1]||(t[1]=e=>l.owner_last_name=e),type:"text",id:"owner_last_name",class:"w-full p-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:""},null,512),[[s.Jo,l.owner_last_name]]),l.errors.owner_last_name?((0,r.uX)(),(0,r.CE)("p",Me,(0,x.v_)(l.errors.owner_last_name),1)):(0,r.Q3)("",!0)]),(0,r.Lk)("div",Ie,[t[8]||(t[8]=(0,r.Lk)("label",{class:"block text-sm font-medium mb-2",for:"email"},"E-posta",-1)),(0,r.bo)((0,r.Lk)("input",{"onUpdate:modelValue":t[2]||(t[2]=e=>l.email=e),type:"email",id:"email",class:"w-full p-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:""},null,512),[[s.Jo,l.email]]),l.errors.email?((0,r.uX)(),(0,r.CE)("p",Ee,(0,x.v_)(l.errors.email),1)):(0,r.Q3)("",!0)]),(0,r.Lk)("div",Te,[t[9]||(t[9]=(0,r.Lk)("label",{class:"block text-sm font-medium mb-2",for:"password"},"Şifre",-1)),(0,r.bo)((0,r.Lk)("input",{"onUpdate:modelValue":t[3]||(t[3]=e=>l.password=e),type:"password",id:"password",class:"w-full p-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:""},null,512),[[s.Jo,l.password]]),l.errors.password?((0,r.uX)(),(0,r.CE)("p",Ae,(0,x.v_)(l.errors.password),1)):(0,r.Q3)("",!0)]),(0,r.Lk)("div",Oe,[t[10]||(t[10]=(0,r.Lk)("label",{class:"block text-sm font-medium mb-2",for:"password"},"Şifre Tekrar",-1)),(0,r.bo)((0,r.Lk)("input",{"onUpdate:modelValue":t[4]||(t[4]=e=>l.passwordRepeat=e),type:"password",id:"passwordRepeat",class:"w-full p-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:""},null,512),[[s.Jo,l.passwordRepeat]]),l.errors.passwordRepeat?((0,r.uX)(),(0,r.CE)("p",Be,(0,x.v_)(l.errors.passwordRepeat),1)):(0,r.Q3)("",!0)]),t[11]||(t[11]=(0,r.Lk)("button",{type:"submit",id:"registerButton",class:"w-full bg-blue-500 text-white p-2 rounded-lg hover:bg-blue-600 transition-all"}," Kayıt Ol ",-1))],32),l.globalError?((0,r.uX)(),(0,r.CE)("div",ze,[(0,r.Lk)("p",null,(0,x.v_)(l.globalError),1)])):(0,r.Q3)("",!0),(0,r.Lk)("div",je,[(0,r.bF)(i,{to:"/login",class:"text-blue-500 hover:underline"},{default:(0,r.k6)((()=>t[12]||(t[12]=[(0,r.eW)("Zaten hesabınız var mı? Giriş Yapın")]))),_:1})])])])}a(4114);var $e={name:"RegisterView",data(){return{owner_first_name:"",email:"",password:"",passwordRepeat:"",owner_last_name:"",errors:{},globalError:""}},created(){const e=localStorage.getItem("auth-token");e?fetch("http://localhost:3000/api/protected",{credentials:"include",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"}}).then((e=>{if(!e.ok)throw new Error("Unauthorized");return e.json()})).then((e=>{console.log("🔹 Protected data:",e),this.$router.push("/cp")})).catch((e=>{console.error("❌ Error:",e),localStorage.removeItem("auth-token")})):console.log("No user found")},methods:{validateForm(){let e=!0;return this.errors={},this.owner_first_name||(this.errors.owner_first_name="İşletme sahibi adı zorunludur.",e=!1),this.owner_last_name||(this.errors.owner_last_name="İşletme sahibi soyadı zorunludur.",e=!1),this.email?/\S+@\S+\.\S+/.test(this.email)||(this.errors.email="Geçerli bir e-posta adresi girin.",e=!1):(this.errors.email="E-posta zorunludur.",e=!1),this.password?this.password.length<6&&(this.errors.password="Şifre en az 6 karakter uzunluğunda olmalıdır.",e=!1):(this.errors.password="Şifre zorunludur.",e=!1),this.passwordRepeat!==this.password&&(this.errors.passwordRepeat="Parolalar eşleşmiyor.",e=!1),e},register(){const e=document.getElementById("registerButton");if(e.disabled=!0,e.classList.add("opacity-50"),this.globalError="",!this.validateForm())return;const t={email:this.email,password:this.password,ownerFirstName:this.owner_first_name,ownerLastName:this.owner_last_name};fetch("http://localhost:3000/api/post/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then((t=>t.ok?(e.disabled=!1,e.classList.remove("opacity-50"),t.json()):t.json().then((e=>{throw new Error(e.error||"Kayıt sırasında bir hata oluştu.")})))).then((()=>{this.$router.push("/login"),e.disabled=!1,e.classList.remove("opacity-50")})).catch((t=>{this.globalError=t.message||"Bir hata oluştu. Lütfen tekrar deneyin.",console.error("Kayıt hatası:",t),e.disabled=!1,e.classList.remove("opacity-50")}))}}};const Xe=(0,n.A)($e,[["render",Ke]]);var Re=Xe;const Ve={class:"flex w-screen h-screen bg-gray-300"},Qe={key:0,class:"absolute inset-0 flex items-center justify-center bg-gray-900",style:{"z-index":"999999 !important"}},De={key:2,class:"flex-1 p-6 overflow-y-auto"},Fe={key:3,class:"flex-1 flex items-center justify-center"};function He(e,t,a,s,o,l){const n=(0,r.g2)("SideBar"),i=(0,r.g2)("router-view"),c=(0,r.g2)("SetupView"),d=(0,r.g2)("HelpButton");return(0,r.uX)(),(0,r.CE)("div",Ve,[o.loading?((0,r.uX)(),(0,r.CE)("div",Qe,t[0]||(t[0]=[(0,r.Lk)("div",{class:"flex items-center space-x-2"},[(0,r.Lk)("span",{class:"material-icons text-white text-4xl animate-spin"},"autorenew"),(0,r.Lk)("span",{class:"text-white font-semibold"},"Yükleniyor...")],-1)]))):(0,r.Q3)("",!0),o.verify?((0,r.uX)(),(0,r.Wv)(n,{key:1})):(0,r.Q3)("",!0),o.verify?((0,r.uX)(),(0,r.CE)("main",De,[(0,r.bF)(i,{name:"cp"})])):(0,r.Q3)("",!0),o.verify?(0,r.Q3)("",!0):((0,r.uX)(),(0,r.CE)("main",Fe,[(0,r.bF)(c)])),o.verify?((0,r.uX)(),(0,r.Wv)(d,{key:4})):(0,r.Q3)("",!0)])}const Ne={class:"h-full"},Je={key:0,class:"flex flex-col items-center w-50 h-full overflow-hidden text-gray-700 bg-gray-100 rounded"},Pe={class:"flex items-center w-full px-3 mt-3",href:"#"},Ue={class:"ml-2 text-sm font-bold"},Ye={class:"w-full px-2"},qe={class:"flex flex-col items-center w-full mt-3 border-t border-gray-300"},We={class:"ml-2 text-sm font-medium"},Ge={class:"ml-2 text-sm font-medium"},Ze={class:"ml-2 text-sm font-medium"},et={class:"ml-2 text-sm font-medium"},tt={class:"ml-2 text-sm font-medium"},at={key:0,class:"absolute top-0 left-0 w-2 h-2 mt-2 ml-2 bg-indigo-500 rounded-full"},st={class:"flex flex-col items-center w-full mt-2 border-t border-gray-300"},rt={href:"https://kernelsoftware.com.tr",target:"_blank",class:"flex items-center w-full h-12 px-3 mt-2 rounded hover:bg-gray-300"},ot={class:"ml-2 text-sm font-medium"},lt={class:"ml-2 text-sm font-medium"},nt={class:"material-icons mr-3"},it={class:"text-sm font-medium"},ct={class:"flex items-center justify-center w-full h-16 mt-auto bg-gray-200",href:"#"},dt={class:"ml-2 text-sm font-medium"},ut={key:1,class:"flex flex-col items-center w-16 h-full overflow-hidden text-gray-700 bg-gray-100 rounded"},gt={class:"flex flex-col items-center mt-3 border-t border-gray-300"},mt={key:0,class:"absolute top-0 left-0 w-2 h-2 mt-2 ml-2 bg-indigo-500 rounded-full"},pt={class:"flex flex-col items-center mt-2 border-t border-gray-300"},ht={class:"material-icons"};function ft(e,t,a,s,o,l){const n=(0,r.g2)("router-link"),i=(0,r.g2)("SettingsModal");return(0,r.uX)(),(0,r.CE)("div",Ne,[o.isSidebarOpen?((0,r.uX)(),(0,r.CE)("div",Je,[(0,r.Lk)("a",Pe,[t[4]||(t[4]=(0,r.Lk)("i",{class:"material-icons"},"local_pizza",-1)),(0,r.Lk)("span",Ue,(0,x.v_)(e.$t("sidebar.title")),1)]),(0,r.Lk)("div",Ye,[(0,r.Lk)("div",qe,[(0,r.bF)(n,{to:"/cp/home","active-class":"bg-gray-200",class:"flex items-center w-full h-12 px-3 mt-2 rounded hover:bg-gray-300"},{default:(0,r.k6)((()=>[t[5]||(t[5]=(0,r.Lk)("svg",{class:"w-6 h-6 stroke-current",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[(0,r.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})],-1)),(0,r.Lk)("span",We,(0,x.v_)(e.$t("sidebar.home")),1)])),_:1}),(0,r.bF)(n,{to:"/cp/stats","active-class":"bg-gray-200",class:"flex items-center w-full h-12 px-3 mt-2 hover:bg-gray-300 rounded",href:"#"},{default:(0,r.k6)((()=>[t[6]||(t[6]=(0,r.Lk)("svg",{class:"w-6 h-6 stroke-current",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[(0,r.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M16 8v8m-4-5v5m-4-2v2m-2 4h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})],-1)),(0,r.Lk)("span",Ge,(0,x.v_)(e.$t("sidebar.statistics")),1)])),_:1}),(0,r.bF)(n,{to:"/cp/category","active-class":"bg-gray-200",class:"flex items-center w-full h-12 px-3 mt-2 rounded hover:bg-gray-300"},{default:(0,r.k6)((()=>[t[7]||(t[7]=(0,r.Lk)("i",{class:"material-icons"},"inbox",-1)),(0,r.Lk)("span",Ze,(0,x.v_)(e.$t("category")),1)])),_:1}),(0,r.bF)(n,{to:"/cp/products","active-class":"bg-gray-200",class:"flex items-center w-full h-12 px-3 mt-2 rounded hover:bg-gray-300"},{default:(0,r.k6)((()=>[t[8]||(t[8]=(0,r.Lk)("svg",{class:"w-6 h-6 stroke-current",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[(0,r.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z"})],-1)),(0,r.Lk)("span",et,(0,x.v_)(e.$t("sidebar.products")),1)])),_:1}),(0,r.bF)(n,{to:"/cp/survey","active-class":"bg-gray-200",class:"relative flex items-center w-full h-12 px-3 mt-2 rounded hover:bg-gray-300",href:"#"},{default:(0,r.k6)((()=>[t[9]||(t[9]=(0,r.Lk)("i",{class:"material-icons"},"stars",-1)),(0,r.Lk)("span",tt,(0,x.v_)(e.$t("surveys")),1),o.marked?((0,r.uX)(),(0,r.CE)("span",at)):(0,r.Q3)("",!0)])),_:1})]),(0,r.Lk)("div",st,[(0,r.Lk)("a",rt,[t[10]||(t[10]=(0,r.Lk)("svg",{class:"w-6 h-6 stroke-current",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[(0,r.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 7v8a2 2 0 002 2h6M8 7V5a2 2 0 012-2h4.586a1 1 0 01.707.293l4.414 4.414a1 1 0 01.293.707V15a2 2 0 01-2 2h-2M8 7H6a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2v-2"})],-1)),(0,r.Lk)("span",ot,(0,x.v_)(e.$t("sidebar.docs")),1)]),(0,r.Lk)("a",{onClick:t[0]||(t[0]=(...e)=>l.openSettingsModal&&l.openSettingsModal(...e)),class:"flex items-center w-full h-12 px-3 mt-2 rounded hover:bg-gray-300",href:"#"},[t[11]||(t[11]=(0,r.Lk)("svg",{class:"w-6 h-6 stroke-current",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[(0,r.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6V4m0 2a2 2 0 100 4m0-4a2 2 0 110 4m-6 8a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4m6 6v10m6-2a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4"})],-1)),(0,r.Lk)("span",lt,(0,x.v_)(e.$t("settings.title")),1),(0,r.bF)(i,{isOpen:o.isSettingsModalOpen,onClose:l.closeSettingsModal},null,8,["isOpen","onClose"])]),(0,r.Lk)("a",{onClick:t[1]||(t[1]=(...e)=>l.toggleSidebar&&l.toggleSidebar(...e)),class:"flex items-center w-full h-12 px-3 mt-2 rounded hover:bg-gray-300",href:"#"},[(0,r.Lk)("i",nt,(0,x.v_)(o.isSidebarOpen?"close":"menu"),1),(0,r.Lk)("span",it,(0,x.v_)(o.isSidebarOpen?e.$t("sidebar.hide"):e.$t("sidebar.show")),1)])])]),(0,r.Lk)("a",ct,[t[12]||(t[12]=(0,r.Lk)("i",{class:"material-icons"},"open_in_new",-1)),(0,r.Lk)("span",dt,(0,x.v_)(e.$t("previewMenu")),1)])])):((0,r.uX)(),(0,r.CE)("div",ut,[t[20]||(t[20]=(0,r.Lk)("a",{class:"flex items-center justify-center mt-3",href:"#"},[(0,r.Lk)("i",{class:"material-icons"},"local_pizza")],-1)),(0,r.Lk)("div",gt,[(0,r.bF)(n,{to:"/cp/home","active-class":"bg-gray-200",class:"flex items-center justify-center w-12 h-12 mt-2 rounded hover:bg-gray-300",href:"#"},{default:(0,r.k6)((()=>t[13]||(t[13]=[(0,r.Lk)("svg",{class:"w-6 h-6 stroke-current",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[(0,r.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})],-1)]))),_:1}),(0,r.bF)(n,{"active-class":"bg-gray-200",to:"/cp/stats",class:"flex items-center justify-center w-12 h-12 mt-2 rounded",href:"#"},{default:(0,r.k6)((()=>t[14]||(t[14]=[(0,r.Lk)("svg",{class:"w-6 h-6 stroke-current",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[(0,r.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M16 8v8m-4-5v5m-4-2v2m-2 4h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})],-1)]))),_:1}),(0,r.bF)(n,{to:"/cp/category","active-class":"bg-gray-200",class:"flex items-center w-full h-12 px-3 mt-2 rounded hover:bg-gray-300"},{default:(0,r.k6)((()=>t[15]||(t[15]=[(0,r.Lk)("i",{class:"material-icons"},"inbox",-1)]))),_:1}),(0,r.bF)(n,{"active-class":"bg-gray-200",to:"/cp/products",class:"flex items-center justify-center w-12 h-12 mt-2 rounded",href:"#"},{default:(0,r.k6)((()=>t[16]||(t[16]=[(0,r.Lk)("svg",{class:"w-6 h-6 stroke-current",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[(0,r.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z"})],-1)]))),_:1}),(0,r.bF)(n,{to:"/cp/survey","active-class":"bg-gray-200",class:"relative flex items-center w-full h-12 px-3 mt-2 rounded hover:bg-gray-300",href:"#"},{default:(0,r.k6)((()=>[t[17]||(t[17]=(0,r.Lk)("i",{class:"material-icons"},"stars",-1)),o.marked?((0,r.uX)(),(0,r.CE)("span",mt)):(0,r.Q3)("",!0)])),_:1})]),(0,r.Lk)("div",pt,[t[19]||(t[19]=(0,r.Lk)("a",{class:"flex items-center justify-center w-12 h-12 mt-2 rounded hover:bg-gray-300",target:"_blank",href:"https://kernelsoftware.com.tr"},[(0,r.Lk)("svg",{class:"w-6 h-6 stroke-current",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[(0,r.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 7v8a2 2 0 002 2h6M8 7V5a2 2 0 012-2h4.586a1 1 0 01.707.293l4.414 4.414a1 1 0 01.293.707V15a2 2 0 01-2 2h-2M8 7H6a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2v-2"})])],-1)),(0,r.Lk)("a",{onClick:t[2]||(t[2]=(...e)=>l.openSettingsModal&&l.openSettingsModal(...e)),class:"flex items-center justify-center w-12 h-12 mt-2 rounded hover:bg-gray-300",href:"#"},[t[18]||(t[18]=(0,r.Lk)("svg",{class:"w-6 h-6 stroke-current",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[(0,r.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6V4m0 2a2 2 0 100 4m0-4a2 2 0 110 4m-6 8a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4m6 6v10m6-2a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4"})],-1)),(0,r.bF)(i,{isOpen:o.isSettingsModalOpen,onClose:l.closeSettingsModal},null,8,["isOpen","onClose"])]),(0,r.Lk)("a",{onClick:t[3]||(t[3]=(...e)=>l.toggleSidebar&&l.toggleSidebar(...e)),class:"relative flex items-center justify-center w-12 h-12 mt-2 hover:bg-gray-300",href:"#"},[(0,r.Lk)("i",ht,(0,x.v_)(o.isSidebarOpen?"close":"menu"),1)])]),t[21]||(t[21]=(0,r.Lk)("a",{class:"flex items-center justify-center w-16 h-16 mt-auto bg-gray-200",href:"#"},[(0,r.Lk)("i",{class:"material-icons"},"open_in_new")],-1))]))])}const bt={class:"flex flex-col items-center text-center border-b pb-4"},kt={class:"text-2xl font-bold text-gray-800 mt-2"},vt={class:"text-sm text-gray-500"},yt={class:"mt-4 p-3 bg-gray-100 rounded-lg flex items-center"},wt={class:"w-full"},xt={class:"block text-sm font-semibold text-gray-700"},Lt={class:"flex justify-between mt-4"};function Ct(e,t,a,o,l,n){return a.isOpen?((0,r.uX)(),(0,r.CE)("div",{key:0,onClick:t[5]||(t[5]=(0,s.D$)(((...e)=>n.closeModal&&n.closeModal(...e)),["self"])),class:"fixed inset-0 bg-gray-900 bg-opacity-60 flex items-center justify-center z-50 p-4"},[(0,r.Lk)("div",{onClick:t[4]||(t[4]=(0,s.D$)((()=>{}),["stop"])),class:"bg-white rounded-xl shadow-2xl w-11/12 md:w-96 p-6 relative"},[(0,r.Lk)("button",{onClick:t[0]||(t[0]=(...e)=>n.closeModal&&n.closeModal(...e)),class:"absolute top-4 right-4 text-gray-600 hover:text-red-500"},t[6]||(t[6]=[(0,r.Lk)("span",{class:"material-icons text-3xl"},"close",-1)])),(0,r.Lk)("div",bt,[t[7]||(t[7]=(0,r.Lk)("span",{class:"material-icons text-blue-500 text-5xl"},"settings",-1)),(0,r.Lk)("h2",kt,(0,x.v_)(e.$t("settings.title")),1),(0,r.Lk)("p",vt,(0,x.v_)(e.$t("ManageYourgeneralsettings")),1)]),(0,r.Lk)("div",yt,[(0,r.Lk)("div",wt,[(0,r.Lk)("label",xt,(0,x.v_)(e.$t("settings.language")),1),(0,r.bo)((0,r.Lk)("select",{"onUpdate:modelValue":t[1]||(t[1]=e=>l.selectedLanguage=e),class:"w-full p-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"},t[8]||(t[8]=[(0,r.Lk)("option",{value:"en"},"English",-1),(0,r.Lk)("option",{value:"tr"},"Türkçe",-1),(0,r.Lk)("option",{value:"de"},"Deutsch",-1)]),512),[[s.u1,l.selectedLanguage]])])]),(0,r.Lk)("div",Lt,[(0,r.Lk)("button",{onClick:t[2]||(t[2]=(...e)=>n.logout&&n.logout(...e)),class:"bg-red-500 text-white px-4 py-2 rounded-lg hover:bg-red-700 transition-all flex items-center"},[t[9]||(t[9]=(0,r.Lk)("span",{class:"material-icons text-white text-lg mr-1"},"logout",-1)),(0,r.eW)(" "+(0,x.v_)(e.$t("signOut")),1)]),(0,r.Lk)("button",{onClick:t[3]||(t[3]=(...e)=>n.saveSettings&&n.saveSettings(...e)),class:"bg-blue-500 text-white px-4 py-2 rounded-lg hover:bg-blue-600 transition-all flex items-center"},[t[10]||(t[10]=(0,r.Lk)("span",{class:"material-icons text-white text-lg mr-1"},"save",-1)),(0,r.eW)(" "+(0,x.v_)(e.$t("settings.save")),1)])])])])):(0,r.Q3)("",!0)}var St={name:"SettingsModal",props:{isOpen:{type:Boolean,required:!0}},data(){return{selectedLanguage:this.$i18n.locale}},methods:{closeModal(){this.$emit("close")},saveSettings(){localStorage.setItem("language",this.selectedLanguage),this.$i18n.locale=this.selectedLanguage,this.closeModal(),window.location.href="/cp"},logout(){localStorage.clear(),sessionStorage.clear(),fetch("http://localhost:3000/api/logout",{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"}}).then((e=>{e.ok&&window.location.reload()})).catch((e=>console.log("Çıkış hatası => ",e))),this.closeModal(),window.location.reload()}}};const _t=(0,n.A)(St,[["render",Ct]]);var Mt=_t,It={name:"SideBar",components:{SettingsModal:Mt},data(){return{isSidebarOpen:!0,isSettingsModalOpen:!1,marked:!1}},methods:{toggleSidebar(){this.isSidebarOpen=!this.isSidebarOpen},openSettingsModal(){this.isSettingsModalOpen=!0},closeSettingsModal(){this.isSettingsModalOpen=!1}}};const Et=(0,n.A)(It,[["render",ft]]);var Tt=Et;function At(e,t,a,s,o,l){const n=(0,r.g2)("HelpModal");return(0,r.uX)(),(0,r.CE)(r.FK,null,[(0,r.Lk)("button",{id:"help-button",onClick:t[0]||(t[0]=(...e)=>s.openHelpModal&&s.openHelpModal(...e)),class:"fixed bottom-4 right-6 bg-blue-500 text-white p-3 rounded-xl pt-4 shadow-lg hover:bg-blue-600 transition-all z-50 jump"},t[1]||(t[1]=[(0,r.Lk)("i",{class:"material-icons"},"help",-1)])),(0,r.bF)(n,{isOpen:s.isHelpModalOpen,isServerConnected:s.isServerConnected,userInfo:s.userInfo,version:s.version,onClose:s.closeHelpModal},null,8,["isOpen","isServerConnected","userInfo","version","onClose"])],64)}var Ot=a(144);const Bt={key:0,class:"mt-6 text-center text-gray-600"},zt={key:1,class:"mt-6 space-y-6"},jt={class:"p-4 bg-gray-50 rounded-lg"},Kt={class:"flex items-center space-x-2"},$t={class:"p-4 bg-gray-50 rounded-lg"},Xt={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},Rt={class:"flex items-center space-x-2"},Vt={class:"text-gray-800"},Qt={class:"flex items-center space-x-2"},Dt={class:"text-gray-800"},Ft={class:"flex items-center space-x-2"},Ht={class:"text-gray-800 capitalize"},Nt={class:"flex items-center space-x-2"},Jt={class:"text-gray-800 capitalize"},Pt={class:"flex items-center space-x-2"},Ut={class:"text-gray-800"},Yt={class:"flex items-center space-x-2"},qt={class:"text-gray-800"},Wt={class:"p-4 bg-gray-50 rounded-lg"},Gt={class:"flex space-x-4"},Zt=["href"],ea=["href"],ta={class:"p-4 bg-gray-50 rounded-lg"},aa={class:"text-gray-800 font-medium"};function sa(e,t,a,o,l,n){return(0,r.uX)(),(0,r.Wv)(s.eB,{name:"fade"},{default:(0,r.k6)((()=>[a.isOpen?((0,r.uX)(),(0,r.CE)("div",{key:0,onClick:t[2]||(t[2]=(0,s.D$)(((...e)=>n.closeModal&&n.closeModal(...e)),["self"])),class:"fixed inset-0 bg-gray-900 bg-opacity-60 flex items-center justify-center z-50 p-6"},[(0,r.bF)(s.eB,{name:"slide"},{default:(0,r.k6)((()=>[(0,r.Lk)("div",{onClick:t[1]||(t[1]=(0,s.D$)((()=>{}),["stop"])),class:"bg-white rounded-xl shadow-2xl w-full md:w-3/4 lg:w-2/3 xl:w-1/2 p-8 relative"},[(0,r.Lk)("button",{onClick:t[0]||(t[0]=(...e)=>n.closeModal&&n.closeModal(...e)),class:"absolute top-4 right-4 text-gray-600 hover:text-red-500"},t[3]||(t[3]=[(0,r.Lk)("span",{class:"material-icons text-3xl"},"close",-1)])),o.userInfo?((0,r.uX)(),(0,r.CE)("div",zt,[(0,r.Lk)("div",jt,[t[5]||(t[5]=(0,r.Lk)("label",{class:"block text-sm font-semibold text-gray-700 mb-2"},"Sunucu Durumu",-1)),(0,r.Lk)("div",Kt,[(0,r.Lk)("span",{class:(0,x.C4)([{"bg-green-500 animate-pulse":a.isServerConnected,"bg-red-500":!a.isServerConnected},"w-3 h-3 rounded-full"])},null,2),(0,r.Lk)("span",{class:(0,x.C4)(["font-medium",a.isServerConnected?"text-green-600":"text-red-600"])},(0,x.v_)(a.isServerConnected?"Sunucuya bağlı":"Sunucuya bağlı değil"),3)])]),(0,r.Lk)("div",$t,[t[12]||(t[12]=(0,r.Lk)("label",{class:"block text-sm font-semibold text-gray-700 mb-2"},"Kullanıcı Bilgileri",-1)),(0,r.Lk)("div",Xt,[(0,r.Lk)("div",Rt,[t[6]||(t[6]=(0,r.Lk)("span",{class:"material-icons text-gray-600"},"person",-1)),(0,r.Lk)("span",Vt,(0,x.v_)(o.userInfo.owner_first_name)+" "+(0,x.v_)(o.userInfo.owner_last_name),1)]),(0,r.Lk)("div",Qt,[t[7]||(t[7]=(0,r.Lk)("span",{class:"material-icons text-gray-600"},"email",-1)),(0,r.Lk)("span",Dt,(0,x.v_)(o.userInfo.email),1)]),(0,r.Lk)("div",Ft,[t[8]||(t[8]=(0,r.Lk)("span",{class:"material-icons text-gray-600"},"business",-1)),(0,r.Lk)("span",Ht,(0,x.v_)(o.userInfo.business_name),1)]),(0,r.Lk)("div",Nt,[t[9]||(t[9]=(0,r.Lk)("span",{class:"material-icons text-gray-600"},"category",-1)),(0,r.Lk)("span",Jt,(0,x.v_)(o.userInfo.business_type),1)]),(0,r.Lk)("div",Pt,[t[10]||(t[10]=(0,r.Lk)("span",{class:"material-icons text-gray-600"},"location_on",-1)),(0,r.Lk)("span",Ut,(0,x.v_)(o.userInfo.business_address),1)]),(0,r.Lk)("div",Yt,[t[11]||(t[11]=(0,r.Lk)("span",{class:"material-icons text-gray-600"},"phone",-1)),(0,r.Lk)("span",qt,(0,x.v_)(o.userInfo.phone_number),1)])])]),(0,r.Lk)("div",Wt,[t[15]||(t[15]=(0,r.Lk)("label",{class:"block text-sm font-semibold text-gray-700 mb-2"},"Sosyal Medya",-1)),(0,r.Lk)("div",Gt,[(0,r.Lk)("a",{href:o.userInfo.social_media.instagram,target:"_blank",class:"flex items-center space-x-2 text-blue-600 hover:text-blue-700"},t[13]||(t[13]=[(0,r.Lk)("span",{class:"material-icons"},"camera_alt",-1),(0,r.Lk)("span",null,"Instagram",-1)]),8,Zt),(0,r.Lk)("a",{href:o.userInfo.social_media.facebook,target:"_blank",class:"flex items-center space-x-2 text-blue-600 hover:text-blue-700"},t[14]||(t[14]=[(0,r.Lk)("span",{class:"material-icons"},"thumb_up",-1),(0,r.Lk)("span",null,"Facebook",-1)]),8,ea)])]),(0,r.Lk)("div",ta,[t[16]||(t[16]=(0,r.Lk)("label",{class:"block text-sm font-semibold text-gray-700 mb-2"},"Sürüm",-1)),(0,r.Lk)("div",aa,(0,x.v_)(a.version),1)])])):((0,r.uX)(),(0,r.CE)("div",Bt,t[4]||(t[4]=[(0,r.Lk)("p",null,"Kullanıcı bilgileri bulunamadı.",-1)]))),t[17]||(t[17]=(0,r.Lk)("div",{class:"text-center text-sm text-gray-500 mt-6 border-t pt-6"},[(0,r.Lk)("a",{href:"https://kernelsoftware.com.tr",target:"_blank",class:"hover:underline text-blue-600 font-medium"}," kernelsoftware tarafından geliştirildi ❤️ ")],-1))])])),_:1})])):(0,r.Q3)("",!0)])),_:1})}var ra={name:"HelpModal",props:{isOpen:{type:Boolean,required:!0},isServerConnected:{type:Boolean,required:!0},version:{type:String,required:!0}},setup(){const e=(0,Ot.KR)(null),t=()=>{const t=localStorage.getItem("businessInfo");t?(e.value=JSON.parse(t),console.log("userInfo: ",e.value)):console.log("Kullanıcı bilgileri bulunamadı.")};return{userInfo:e,getUserInfo:t}},methods:{closeModal(){this.$emit("close")}},watch:{isOpen(e){e&&this.getUserInfo()}}};const oa=(0,n.A)(ra,[["render",sa],["__scopeId","data-v-111526bc"]]);var la=oa,na={name:"HelpButton",components:{HelpModal:la},setup(){const e=(0,Ot.KR)(!1),t=(0,Ot.KR)(!0),a=(0,Ot.KR)({email:"Yükleniyor...",business_name:"Yükleniyor...",business_type:"Yükleniyor...",owner_first_name:"Yükleniyor...",owner_last_name:"Yükleniyor..."}),s=(0,Ot.KR)("1.0.0"),o=(0,Ot.KR)(null),l=async()=>{const e=await fetch("http://localhost:3000/api/get/server-status"),a=await e.json();a&&(t.value=a.server)},n=()=>{a.value=JSON.parse(localStorage.getItem("businessInfo")),console.log("userInfo: "+a.value)},i=async()=>{fetch("http://localhost:3000/api/get/version").then((e=>e.json())).then((e=>{e&&(s.value=e.version)})).catch((e=>console.error("Error fetching version:",e)))},c=()=>{e.value=!0,o.value?.classList.remove("jump")},d=()=>{e.value=!1,o.value?.classList.add("jump")};return(0,r.sV)((()=>{n(),l(),i()})),{isHelpModalOpen:e,isServerConnected:t,userInfo:a,version:s,openHelpModal:c,closeHelpModal:d,helpButton:o}}};const ia=(0,n.A)(na,[["render",At],["__scopeId","data-v-90e6e0ee"]]);var ca=ia;const da={class:"max-w-lg mx-auto p-6 text-center"},ua={key:0,class:"step"},ga={key:1,class:"step"},ma={key:2,class:"step"},pa={key:3,class:"step"},ha={class:"p-6 bg-gray-100 rounded-lg shadow-md"},fa={key:0},ba=["href"],ka={key:0},va=["href"],ya={key:4,class:"step animate-fade-in"};function wa(e,t,a,o,l,n){return(0,r.uX)(),(0,r.CE)("div",da,[t[33]||(t[33]=(0,r.Lk)("h1",{class:"text-3xl font-bold mb-6 text-gray-800"},"Tafly İşletme Kurulumu",-1)),1===l.currentStep?((0,r.uX)(),(0,r.CE)("div",ua,[t[16]||(t[16]=(0,r.Lk)("h2",{class:"text-2xl font-semibold mb-4"},"Adım 1: İşletme Bilgileri",-1)),(0,r.Lk)("form",{onSubmit:t[3]||(t[3]=(0,s.D$)(((...e)=>n.nextStep&&n.nextStep(...e)),["prevent"])),class:"space-y-4"},[(0,r.Lk)("div",null,[t[12]||(t[12]=(0,r.Lk)("label",{for:"businessName",class:"block text-gray-700"},"İşletme Adı:",-1)),(0,r.bo)((0,r.Lk)("input",{type:"text",id:"businessName","onUpdate:modelValue":t[0]||(t[0]=e=>l.businessInfo.business_name=e),required:"",class:"w-full p-3 border rounded-lg shadow-sm focus:ring focus:ring-green-300"},null,512),[[s.Jo,l.businessInfo.business_name]])]),(0,r.Lk)("div",null,[t[13]||(t[13]=(0,r.Lk)("label",{for:"businessAddress",class:"block text-gray-700"},"İşletme Adresi:",-1)),(0,r.bo)((0,r.Lk)("input",{type:"text",id:"businessType","onUpdate:modelValue":t[1]||(t[1]=e=>l.businessInfo.business_address=e),required:"",class:"w-full p-3 border rounded-lg shadow-sm focus:ring focus:ring-green-300"},null,512),[[s.Jo,l.businessInfo.business_address]])]),(0,r.Lk)("div",null,[t[14]||(t[14]=(0,r.Lk)("label",{for:"businessAddress",class:"block text-gray-700"},"İşletme Türü:",-1)),(0,r.bo)((0,r.Lk)("input",{type:"text",id:"businessAddress","onUpdate:modelValue":t[2]||(t[2]=e=>l.businessInfo.business_type=e),required:"",class:"w-full p-3 border rounded-lg shadow-sm focus:ring focus:ring-green-300"},null,512),[[s.Jo,l.businessInfo.business_type]])]),t[15]||(t[15]=(0,r.Lk)("button",{type:"submit",class:"w-full bg-green-500 hover:bg-green-600 text-white py-3 rounded-lg transition duration-300"}," Sonraki Adım ",-1))],32)])):(0,r.Q3)("",!0),2===l.currentStep?((0,r.uX)(),(0,r.CE)("div",ga,[t[20]||(t[20]=(0,r.Lk)("h2",{class:"text-2xl font-semibold mb-4"},"Adım 2: İletişim Bilgileri",-1)),(0,r.Lk)("form",{onSubmit:t[6]||(t[6]=(0,s.D$)(((...e)=>n.nextStep&&n.nextStep(...e)),["prevent"])),class:"space-y-4"},[(0,r.Lk)("div",null,[t[17]||(t[17]=(0,r.Lk)("label",{for:"phone",class:"block text-gray-700"},"Telefon Numarası:",-1)),(0,r.bo)((0,r.Lk)("input",{type:"tel",id:"phone","onUpdate:modelValue":t[4]||(t[4]=e=>l.businessInfo.phone=e),required:"",class:"w-full p-3 border rounded-lg shadow-sm focus:ring focus:ring-green-300"},null,512),[[s.Jo,l.businessInfo.phone]])]),(0,r.Lk)("div",null,[t[18]||(t[18]=(0,r.Lk)("label",{for:"email",class:"block text-gray-700"},"E-posta:",-1)),(0,r.bo)((0,r.Lk)("input",{disabled:"",type:"email",id:"email","onUpdate:modelValue":t[5]||(t[5]=e=>l.businessInfo.email=e),class:"w-full p-3 border rounded-lg shadow-sm focus:ring focus:ring-green-300"},null,512),[[s.Jo,l.businessInfo.email]])]),t[19]||(t[19]=(0,r.Lk)("button",{type:"submit",class:"w-full bg-green-500 hover:bg-green-600 text-white py-3 rounded-lg transition duration-300"}," Sonraki Adım ",-1))],32)])):(0,r.Q3)("",!0),3===l.currentStep?((0,r.uX)(),(0,r.CE)("div",ma,[t[24]||(t[24]=(0,r.Lk)("h2",{class:"text-2xl font-semibold mb-4"},"Adım 3: Sosyal Medya Bilgileri",-1)),(0,r.Lk)("form",{onSubmit:t[9]||(t[9]=(0,s.D$)(((...e)=>n.nextStep&&n.nextStep(...e)),["prevent"])),class:"space-y-4"},[(0,r.Lk)("div",null,[t[21]||(t[21]=(0,r.Lk)("label",{for:"instagram",class:"block text-gray-700"},"Instagram:",-1)),(0,r.bo)((0,r.Lk)("input",{type:"url",id:"instagram","onUpdate:modelValue":t[7]||(t[7]=e=>l.businessInfo.socialMedia.instagram=e),class:"w-full p-3 border rounded-lg shadow-sm focus:ring focus:ring-green-300"},null,512),[[s.Jo,l.businessInfo.socialMedia.instagram]])]),(0,r.Lk)("div",null,[t[22]||(t[22]=(0,r.Lk)("label",{for:"facebook",class:"block text-gray-700"},"Facebook:",-1)),(0,r.bo)((0,r.Lk)("input",{type:"url",id:"facebook","onUpdate:modelValue":t[8]||(t[8]=e=>l.businessInfo.socialMedia.facebook=e),class:"w-full p-3 border rounded-lg shadow-sm focus:ring focus:ring-green-300"},null,512),[[s.Jo,l.businessInfo.socialMedia.facebook]])]),t[23]||(t[23]=(0,r.Lk)("button",{type:"submit",class:"w-full bg-green-500 hover:bg-green-600 text-white py-3 rounded-lg transition duration-300"}," Sonraki Adım ",-1))],32)])):(0,r.Q3)("",!0),4===l.currentStep?((0,r.uX)(),(0,r.CE)("div",pa,[t[30]||(t[30]=(0,r.Lk)("h2",{class:"text-2xl font-semibold mb-4"},"Adım 4: Özet ve Onay",-1)),(0,r.Lk)("div",ha,[(0,r.Lk)("p",null,[t[25]||(t[25]=(0,r.Lk)("strong",null,"İşletme Adı:",-1)),(0,r.eW)(" "+(0,x.v_)(l.businessInfo.name),1)]),(0,r.Lk)("p",null,[t[26]||(t[26]=(0,r.Lk)("strong",null,"Adres:",-1)),(0,r.eW)(" "+(0,x.v_)(l.businessInfo.address),1)]),(0,r.Lk)("p",null,[t[27]||(t[27]=(0,r.Lk)("strong",null,"İşletme Türü:",-1)),(0,r.eW)(" "+(0,x.v_)(l.businessInfo.type),1)]),(0,r.Lk)("p",null,[t[28]||(t[28]=(0,r.Lk)("strong",null,"Telefon:",-1)),(0,r.eW)(" "+(0,x.v_)(l.businessInfo.phone),1)]),(0,r.Lk)("p",null,[t[29]||(t[29]=(0,r.Lk)("strong",null,"E-posta:",-1)),(0,r.eW)(" "+(0,x.v_)(l.businessInfo.email),1)]),(0,r.Lk)("p",null,[this.businessInfo.socialMedia.facebook?((0,r.uX)(),(0,r.CE)("strong",fa,"Facebook Adresi: ")):(0,r.Q3)("",!0),(0,r.Lk)("a",{style:{color:"blue"},target:"_blank",href:this.businessInfo.socialMedia.facebook},(0,x.v_)(l.businessInfo.socialMedia.facebook),9,ba)]),(0,r.Lk)("p",null,[this.businessInfo.socialMedia.instagram?((0,r.uX)(),(0,r.CE)("strong",ka,"İnstagram Adresi: ")):(0,r.Q3)("",!0),(0,r.Lk)("a",{style:{color:"blue"},target:"_blank",href:this.businessInfo.socialMedia.instagram},(0,x.v_)(l.businessInfo.socialMedia.instagram),9,va)])]),(0,r.Lk)("button",{onClick:t[10]||(t[10]=(...e)=>n.submitSetup&&n.submitSetup(...e)),class:"mt-4 w-full bg-blue-500 hover:bg-blue-600 text-white py-3 rounded-lg transition duration-300"}," Kurulumu Tamamla ")])):(0,r.Q3)("",!0),5===l.currentStep?((0,r.uX)(),(0,r.CE)("div",ya,[t[31]||(t[31]=(0,r.Lk)("h2",{class:"text-2xl font-semibold text-green-600"},"Kurulum Tamamlandı!",-1)),t[32]||(t[32]=(0,r.Lk)("p",{class:"text-gray-700 mt-2"},"İşletme bilgileriniz başarıyla kaydedildi. 🎉",-1)),(0,r.Lk)("button",{onClick:t[11]||(t[11]=e=>n.reload()),class:"mt-4 w-full bg-blue-500 hover:bg-blue-600 text-white py-3 rounded-lg transition duration-300"}," Devam Et ")])):(0,r.Q3)("",!0)])}var xa={name:"SetupView",data(){return{currentStep:1,businessInfo:{email:JSON.parse(localStorage.getItem("userInfo"))?.email,business_name:"",business_type:"",setup_status:!0,business_address:"",phone:"",socialMedia:{instagram:"",facebook:""}},userId:JSON.parse(localStorage.getItem("userInfo"))?.id}},methods:{async submitSetup(){console.log(this.businessInfo);const e=localStorage.getItem("auth-token");try{const t=await fetch("http://localhost:3000/api/post/business",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`},body:JSON.stringify({userId:this.userId,...this.businessInfo})}),a=await t.json();if(a.error)return void console.error("Failed to save business info:",a.error);this.nextStep()}catch(t){console.error("Error saving business info:",t)}},nextStep(){this.currentStep<5&&this.currentStep++},reload(){window.location.reload()}}};const La=(0,n.A)(xa,[["render",wa],["__scopeId","data-v-8a38755a"]]);var Ca=La,Sa={name:"CustomerPanel",data(){return{verify:!1,loading:!0}},async created(){try{const e=await fetch("http://localhost:3000/api/protected",{credentials:"include",headers:{Authorization:`Bearer ${localStorage.getItem("auth-token")}`,"Content-Type":"application/json"}});if(!e.ok)throw new Error("Unauthorized");const t=await fetch(`http://localhost:3000/api/get/user/?userId=${JSON.parse(localStorage.getItem("userInfo"))?.id}`,{credentials:"include",headers:{Authorization:`Bearer ${localStorage.getItem("auth-token")}`,"Content-Type":"application/json"}});if(!t.ok)throw new Error("Failed to fetch business info");const a=await t.json();localStorage.setItem("businessInfo",JSON.stringify(a[0])),this.verify=a[0].setup_status||!1,this.loading=!1}catch(e){console.error("❌ Error:",e),window.location.href="/login"}},components:{SetupView:Ca,SideBar:Tt,HelpButton:ca}};const _a=(0,n.A)(Sa,[["render",He],["__scopeId","data-v-647cc022"]]);var Ma=_a;const Ia={class:"max-w-7xl mx-auto p-6"},Ea={key:0,class:"text-center py-10"},Ta={key:1,class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"},Aa=["src","onClick"],Oa={class:"p-4 flex justify-between items-center w-full"},Ba={class:"align-start"},za={class:"text-lg font-semibold text-gray-900"},ja={class:"text-sm text-gray-600"},Ka=["onClick"],$a={class:"flex justify-between items-center mb-4"},Xa=["src"];function Ra(e,t,a,o,l,n){const i=(0,r.g2)("CreateCategoryModal"),c=(0,r.gN)("tooltip");return(0,r.uX)(),(0,r.CE)("div",Ia,[(0,r.bo)(((0,r.uX)(),(0,r.CE)("button",{onClick:t[0]||(t[0]=(...e)=>o.openModal&&o.openModal(...e)),class:"p-3 pointer rounded-lg shadow-lg text-white font-medium bg-indigo-600 hover:bg-indigo-700 transition-all mb-6 flex"},[t[4]||(t[4]=(0,r.Lk)("i",{class:"material-icons align-center mr-2"},"add_circle",-1)),(0,r.eW)(" "+(0,x.v_)(e.$t("addCategory")),1)])),[[c,this.$t("addNewCategory").value,void 0,{bottom:!0}]]),o.categories&&o.categories.data&&0!==o.categories.data.length?((0,r.uX)(),(0,r.CE)("div",Ta,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(o.categories.data,(e=>((0,r.uX)(),(0,r.CE)("div",{key:e.id,class:"bg-white shadow-lg rounded-lg p-4"},[(0,r.Lk)("img",{src:e.image,alt:"Kategori Resmi",class:"w-full h-40 object-cover rounded-t-lg cursor-pointer hover:opacity-75 transition-all",onClick:t=>o.openImageModal(e.image)},null,8,Aa),(0,r.Lk)("div",Oa,[(0,r.Lk)("div",Ba,[(0,r.Lk)("h3",za,(0,x.v_)(e.name),1),(0,r.Lk)("p",ja,(0,x.v_)(e.description),1)]),(0,r.Lk)("div",null,[(0,r.bo)(((0,r.uX)(),(0,r.CE)("button",{onClick:t=>o.deleteCategory(e.id),class:"p-2 text-white font-medium bg-red-600 rounded-lg hover:bg-red-700 transition-all"},t[6]||(t[6]=[(0,r.Lk)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"size-6"},[(0,r.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m20.25 7.5-.625 10.632a2.25 2.25 0 0 1-2.247 2.118H6.622a2.25 2.25 0 0 1-2.247-2.118L3.75 7.5m6 4.125 2.25 2.25m0 0 2.25 2.25M12 13.875l2.25-2.25M12 13.875l-2.25 2.25M3.375 7.5h17.25c.621 0 1.125-.504 1.125-1.125v-1.5c0-.621-.504-1.125-1.125-1.125H3.375c-.621 0-1.125.504-1.125 1.125v1.5c0 .621.504 1.125 1.125 1.125Z"})],-1)]),8,Ka)),[[c,e.name+" isimli kategoriyi silin",void 0,{top:!0}]])])])])))),128))])):((0,r.uX)(),(0,r.CE)("div",Ea,t[5]||(t[5]=[(0,r.Lk)("p",{class:"text-gray-600"},"Herhangi bir Kategori eklenmemiş. Lütfen bir kategori ekleyerek başlayın.",-1)]))),(0,r.bF)(i,{showModal:o.isModalOpen,onCloseModal:o.closeModal,onCategoryCreated:o.fetchCategories},null,8,["showModal","onCloseModal","onCategoryCreated"]),o.isImageModalOpen?((0,r.uX)(),(0,r.CE)("div",{key:2,class:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center p-4 z-50",onClick:t[3]||(t[3]=(...e)=>o.closeImageModal&&o.closeImageModal(...e))},[(0,r.Lk)("div",{class:"bg-white rounded-lg shadow-xl max-w-3xl w-full p-6",onClick:t[2]||(t[2]=(0,s.D$)((()=>{}),["stop"]))},[(0,r.Lk)("div",$a,[t[8]||(t[8]=(0,r.Lk)("h2",{class:"text-xl font-bold text-gray-800"},"Büyütülmüş Resim",-1)),(0,r.Lk)("button",{onClick:t[1]||(t[1]=(...e)=>o.closeImageModal&&o.closeImageModal(...e)),class:"text-gray-500 hover:text-gray-700"},t[7]||(t[7]=[(0,r.Lk)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[(0,r.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]))]),(0,r.Lk)("img",{src:o.selectedImage,alt:"Büyütülmüş Resim",class:"w-full h-auto rounded-lg"},null,8,Xa)])])):(0,r.Q3)("",!0)])}a(8111),a(2489);const Va={key:0,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4"},Qa={class:"bg-white rounded-2xl shadow-lg w-full max-w-lg p-6"},Da={class:"flex justify-between items-center mb-4"},Fa={class:"text-3xl font-bold text-gray-800"},Ha={for:"category-name",class:"block text-sm font-medium text-gray-700"},Na=["placeholder"],Ja={for:"category-desc",class:"block text-sm font-medium text-gray-700"},Pa=["placeholder"],Ua={for:"category-image",class:"block text-sm font-medium text-gray-700"},Ya={key:0,class:"mt-4 text-center"},qa=["src"],Wa={type:"submit",id:"createBtn",class:"w-full p-3 rounded-lg shadow-lg text-white font-medium bg-indigo-600 hover:bg-indigo-700 focus:ring-4 focus:ring-indigo-300 transition-all"};function Ga(e,t,a,o,l,n){return(0,r.uX)(),(0,r.CE)("div",null,[a.showModal?((0,r.uX)(),(0,r.CE)("div",Va,[(0,r.Lk)("div",Qa,[(0,r.Lk)("div",Da,[(0,r.Lk)("h1",Fa,(0,x.v_)(e.$t("createCategory")),1),(0,r.Lk)("button",{onClick:t[0]||(t[0]=(...e)=>o.closeModal&&o.closeModal(...e)),class:"text-gray-500 hover:text-gray-700"},t[5]||(t[5]=[(0,r.Lk)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[(0,r.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]))]),(0,r.Lk)("form",{onSubmit:t[4]||(t[4]=(0,s.D$)(((...e)=>o.submitCategory&&o.submitCategory(...e)),["prevent"])),class:"space-y-5"},[(0,r.Lk)("div",null,[(0,r.Lk)("label",Ha,(0,x.v_)(e.$t("categoryAdi")),1),(0,r.bo)((0,r.Lk)("input",{"onUpdate:modelValue":t[1]||(t[1]=e=>o.categoryName=e),type:"text",id:"category-name",class:"mt-2 w-full p-3 border rounded-lg shadow-sm focus:ring-2 focus:ring-indigo-500 transition-all",placeholder:e.$t("enterCategoryname"),required:""},null,8,Na),[[s.Jo,o.categoryName]])]),(0,r.Lk)("div",null,[(0,r.Lk)("label",Ja,(0,x.v_)(e.$t("categoryDescription")),1),(0,r.bo)((0,r.Lk)("textarea",{"onUpdate:modelValue":t[2]||(t[2]=e=>o.categoryDesc=e),id:"category-desc",rows:"3",class:"mt-2 w-full p-3 border rounded-lg shadow-sm focus:ring-2 focus:ring-indigo-500 transition-all",placeholder:e.$t("addaShortDescriptionaboutYourcaTegory"),required:""},null,8,Pa),[[s.Jo,o.categoryDesc]])]),(0,r.Lk)("div",null,[(0,r.Lk)("label",Ua,(0,x.v_)(e.$t("categoryImage")),1),(0,r.Lk)("input",{type:"file",id:"category-image",onChange:t[3]||(t[3]=(...e)=>o.handleFileUpload&&o.handleFileUpload(...e)),accept:"image/*",class:"mt-2 pointer w-full p-2 border rounded-lg shadow-sm file:bg-indigo-50 file:text-indigo-700 file:border-none file:py-2 file:px-4 file:rounded-lg file:hover:bg-indigo-100 transition-all",required:""},null,32)]),o.imagePreview?((0,r.uX)(),(0,r.CE)("div",Ya,[t[6]||(t[6]=(0,r.Lk)("p",{class:"text-sm text-gray-600 mb-2"},"Önizleme:",-1)),(0,r.Lk)("img",{src:o.imagePreview,alt:"Kategori Resmi",class:"w-40 h-40 mx-auto object-cover rounded-lg shadow-md transition-all"},null,8,qa)])):(0,r.Q3)("",!0),(0,r.Lk)("div",null,[(0,r.Lk)("button",Wa,(0,x.v_)(e.$t("saveCategory")),1)])],32)])])):(0,r.Q3)("",!0)])}var Za=a(4874),es=a.n(Za),ts={name:"CreateCategoryModal",props:{showModal:{type:Boolean,required:!0}},emits:["close-modal","category-created"],setup(e,{emit:t}){const a=(0,Ot.KR)(""),s=(0,Ot.KR)(""),r=(0,Ot.KR)(null),o=(0,Ot.KR)(null),l=e=>{const t=e.target.files[0];if(t){r.value=t;const e=new FileReader;e.readAsDataURL(t),e.onload=()=>{o.value=e.result}}},n=async()=>{const e=document.getElementById("createBtn");e.disabled=!0,e.classList.add("opacity-50");const o=JSON.parse(localStorage.getItem("userInfo")),l=localStorage.getItem("auth-token");if(!o||!o.id)return void await es().fire({title:"Hata",text:"Kullanıcı bilgileri bulunamadı. Lütfen giriş yapın.",icon:"error",confirmButtonColor:"#3085d6",confirmButtonText:"Tamam"});if(!a.value||!s.value||!r.value)return void await es().fire({title:"Kategori Eklenemedi",text:"Lütfen tüm alanları doldurunuz!",icon:"warning",confirmButtonColor:"#3085d6",confirmButtonText:"Tamam"});const n=new FormData;n.append("name",a.value),n.append("description",s.value),n.append("ownerId",o.id),n.append("image",r.value);try{const a=await fetch("http://localhost:3000/api/post/createCategory",{method:"POST",headers:{Authorization:`Bearer ${l}`},body:n});if(!a.ok)throw new Error(`HTTP error! status: ${a.status}`);const s=await a.json();s.success?(console.log("✅ Category created successfully:",s),t("category-created"),i(),e.disabled=!1,e.classList.remove("opacity-50")):(console.error("❌ Category creation error:",s.error),await es().fire({title:"Kategori Eklenemedi",text:"Bu işlem gerçekleşirken bir hata oluştu!",icon:"warning",confirmButtonColor:"#3085d6",confirmButtonText:"Tamam"}).then((()=>console.log("Error: "+s.error))),e.disabled=!1,e.classList.remove("opacity-50"))}catch(c){console.error("❌ Unexpected error:",c),await es().fire({title:"Hata",text:"Kategori oluşturulurken bir hata oluştu!",icon:"error",confirmButtonColor:"#3085d6",confirmButtonText:"Tamam"}),e.disabled=!1,e.classList.remove("opacity-50")}},i=()=>{a.value="",s.value="",r.value=null,o.value=null,t("close-modal")};return{categoryName:a,categoryDesc:s,categoryImage:r,imagePreview:o,handleFileUpload:l,submitCategory:n,closeModal:i}}};const as=(0,n.A)(ts,[["render",Ga],["__scopeId","data-v-4c8291f4"]]);var ss=as,rs={name:"CategoryView",components:{CreateCategoryModal:ss},setup(){const e=(0,Ot.KR)(!1),t=(0,Ot.KR)(!1),a=(0,Ot.KR)({}),s=(0,Ot.KR)(""),o=()=>{e.value=!0},l=()=>{e.value=!1,c()},n=e=>{s.value=e,t.value=!0},i=()=>{t.value=!1,s.value=""},c=async()=>{try{const e=localStorage.getItem("userInfo");if(!e)throw new Error("User information not found in localStorage");const t=JSON.parse(e)?.id;if(!t)throw new Error("ownerId not found in userInfo");const s=await fetch(`http://localhost:3000/api/get/categories?ownerId=${t}`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("auth-token")}`}});if(!s.ok)throw new Error(`HTTP error! status: ${s.status}`);const r=await s.json();r&&"No categories found"!==r.error?(a.value=r,localStorage.setItem("cachedCategories",JSON.stringify(r))):(a.value={success:!0,data:[]},localStorage.removeItem("cachedCategories"))}catch(e){console.error("Error fetching categories:",e)}},d=async e=>{try{const t=JSON.parse(localStorage.getItem("userInfo"))?.id;if(!t)throw new Error("ownerId not found in localStorage");const a=await es().fire({title:"Kategoriyi Silmek İstediğinize Emin Misiniz?",text:"Silinen kategoriye bağlı tüm resimler ve ürünler de silinecek!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"Evet, sil!",cancelButtonText:"Hayır, iptal et"});if(a.isConfirmed){const t=await fetch(`http://localhost:3000/api/delete/deleteCategory?id=${e}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("auth-token")}`}});if(!t.ok)throw new Error(`HTTP error! status: ${t.status}`);const a=JSON.parse(localStorage.getItem("cachedCategories"));if(a&&a.success&&Array.isArray(a.data)){const t=a.data.filter((t=>t.id!==e));localStorage.setItem("cachedCategories",JSON.stringify({success:!0,data:t}))}await c()}}catch(t){console.error("Error deleting category:",t),await es().fire({icon:"error",title:"Hata",text:"Kategori silinirken bir hata oluştu: "+t.message})}};return(0,r.sV)((()=>{c()})),(0,r.$u)((()=>{})),{isModalOpen:e,isImageModalOpen:t,categories:a,selectedImage:s,openModal:o,closeModal:l,openImageModal:n,closeImageModal:i,fetchCategories:c,deleteCategory:d}}};const os=(0,n.A)(rs,[["render",Ra]]);var ls=os;const ns={class:"p-6 bg-red-500"};function is(e,t,a,s,o,l){return(0,r.uX)(),(0,r.CE)("div",ns,t[0]||(t[0]=[(0,r.Lk)("h1",{class:"text-2xl font-bold"},"Anketler",-1),(0,r.Lk)("p",{class:"mt-4"},"Bu, Anketler içeriğidir.",-1)]))}var cs={name:"MessagesView"};const ds=(0,n.A)(cs,[["render",is]]);var us=ds;const gs=[{path:"/cp",component:Ma,children:[{path:"home",name:"HomeView",components:{cp:w}},{path:"stats",name:"StatsView",components:{cp:le}},{path:"survey",name:"SurveyView",components:{cp:us}},{path:"products",name:"ProductsView",components:{cp:ue}},{path:"category",name:"CategoryView",components:{cp:ls}}]},{path:"/login",name:"LoginView",component:we},{path:"/register",name:"RegisterView",component:Re},{path:"/",redirect:"/login"}],ms=(0,b.aE)({history:(0,b.LA)(),routes:gs});var ps=ms,hs=a(9196);const fs={beforeMount(e,t){const a=Object.keys(t.modifiers)[0]||"top",s=document.createElement("div");s.classList.add("tooltip"),s.textContent=t.value,Object.assign(s.style,{position:"absolute",backgroundColor:"black",color:"white",padding:"6px 10px",borderRadius:"5px",fontSize:"14px",whiteSpace:"nowrap",display:"none",zIndex:"1000",opacity:"0",transition:"opacity 0.3s ease-in-out, transform 0.2s ease-out",transform:"scale(0.95)"}),document.body.appendChild(s),e.addEventListener("mouseenter",(()=>{s.style.display="block",(0,hs.rD)(e,s,{placement:a,middleware:[(0,hs.cY)(8),(0,hs.UU)(),(0,hs.BN)({padding:5})]}).then((({x:e,y:t})=>{Object.assign(s.style,{left:`${e}px`,top:`${t}px`,opacity:"1",transform:"scale(1)"})}))})),e.addEventListener("mouseleave",(()=>{s.style.opacity="0",s.style.transform="scale(0.95)",setTimeout((()=>{s.style.display="none"}),200)})),e._tooltip=s},unmounted(e){document.body.removeChild(e._tooltip)}},bs=(0,s.Ef)(c);bs.use(f),bs.use(ps),bs.directive("tooltip",fs),bs.config.globalProperties.$t=e=>(0,r.EW)((()=>f.global.t(e))),bs.mount("#app")}},t={};function a(s){var r=t[s];if(void 0!==r)return r.exports;var o=t[s]={exports:{}};return e[s].call(o.exports,o,o.exports,a),o.exports}a.m=e,function(){var e=[];a.O=function(t,s,r,o){if(!s){var l=1/0;for(d=0;d<e.length;d++){s=e[d][0],r=e[d][1],o=e[d][2];for(var n=!0,i=0;i<s.length;i++)(!1&o||l>=o)&&Object.keys(a.O).every((function(e){return a.O[e](s[i])}))?s.splice(i--,1):(n=!1,o<l&&(l=o));if(n){e.splice(d--,1);var c=r();void 0!==c&&(t=c)}}return t}o=o||0;for(var d=e.length;d>0&&e[d-1][2]>o;d--)e[d]=e[d-1];e[d]=[s,r,o]}}(),function(){a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,{a:t}),t}}(),function(){a.d=function(e,t){for(var s in t)a.o(t,s)&&!a.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={524:0};a.O.j=function(t){return 0===e[t]};var t=function(t,s){var r,o,l=s[0],n=s[1],i=s[2],c=0;if(l.some((function(t){return 0!==e[t]}))){for(r in n)a.o(n,r)&&(a.m[r]=n[r]);if(i)var d=i(a)}for(t&&t(s);c<l.length;c++)o=l[c],a.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return a.O(d)},s=self["webpackChunktafly"]=self["webpackChunktafly"]||[];s.forEach(t.bind(null,0)),s.push=t.bind(null,s.push.bind(s))}();var s=a.O(void 0,[504],(function(){return a(7005)}));s=a.O(s)})();
//# sourceMappingURL=app.bea74e0b.js.map